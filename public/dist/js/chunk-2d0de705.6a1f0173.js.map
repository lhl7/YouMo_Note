{"version":3,"sources":["webpack:///./src/views/fileManage/Teamfile.vue?b7d1","webpack:///src/views/fileManage/Teamfile.vue","webpack:///./src/views/fileManage/Teamfile.vue?2539","webpack:///./src/views/fileManage/Teamfile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","headers","files","search","scopedSlots","_u","key","fn","_v","_s","teamName","filePath","on","pathBack","model","value","callback","$$v","expression","$event","addItem","dialog","state","editedItem","FileType","valid","rules","mk_fileNameRules","$set","_e","closeDialog","deleteItemConfirm","addItemConfirm","editDialog","editedOldName","update","proxy","ref","item","goToPath","openFile","editItem","deleteItem","initialize","_b","snackbar","snackbarData","staticRenderFns","name","data","text","align","sortable","filterable","watch","val","computed","userName","$store","user","username","$route","query","methods","console","log","axios","Object","assign","type","FN","FileName","s","ss","split","i","length","tm","open","$nextTick","$router","push","targetIP","created","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VChip","VCol","VContainer","VDataTable","VDialog","VDivider","VForm","VIcon","VRow","VSnackbar","VSpacer","VTextField","VToolbar","VToolbarTitle"],"mappings":"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","file":"js/chunk-2d0de705.6a1f0173.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-data-table',{staticClass:\"elevation-8\",staticStyle:{\"background-color\":\"rgba(255, 255, 255, 0.2)\"},attrs:{\"headers\":_vm.headers,\"items\":_vm.files,\"search\":_vm.search},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{staticStyle:{\"background-color\":\"rgba(255, 255, 255, 0.2)\"},attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"团队文件空间\")]),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-chip',{attrs:{\"color\":\"blue darken-4\",\"label\":\"\",\"outlined\":\"\"}},[_vm._v(_vm._s(_vm.teamName)+_vm._s(_vm.filePath))]),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-icon',{on:{\"click\":_vm.pathBack}},[_vm._v(\" mdi-arrow-left \")]),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-spacer'),_c('v-card-title',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-spacer'),_c('v-icon',{attrs:{\"x-large\":\"\"},on:{\"click\":function($event){return _vm.addItem('FILE')}}},[_vm._v(\" mdi-file-plus-outline \")]),_c('v-icon',{attrs:{\"x-large\":\"\"},on:{\"click\":function($event){return _vm.addItem('DIR')}}},[_vm._v(\" mdi-folder-plus-outline \")]),_c('v-dialog',{attrs:{\"max-width\":\"500px\",\"transition\":\"dialog-bottom-transition\",\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Are you sure you want to \"+_vm._s(_vm.state)+\" this \"+_vm._s(_vm.editedItem.FileType)+\"?\")]),_c('v-card-text',[_c('v-form',{model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[(_vm.state == 'add')?_c('v-text-field',{attrs:{\"rules\":_vm.rules.mk_fileNameRules},model:{value:(_vm.editedItem.FileName),callback:function ($$v) {_vm.$set(_vm.editedItem, \"FileName\", $$v)},expression:\"editedItem.FileName\"}}):_vm._e()],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.closeDialog()}}},[_vm._v(\"Cancel\")]),(_vm.state == 'delete')?_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\",\"disabled\":!_vm.valid},on:{\"click\":function($event){return _vm.deleteItemConfirm()}}},[_vm._v(\"Delete\")]):(_vm.state == 'add')?_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"text\":\"\",\"disabled\":!_vm.valid},on:{\"click\":function($event){return _vm.addItemConfirm()}}},[_vm._v(\"Add\")]):_vm._e(),_c('v-spacer')],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\",\"transition\":\"dialog-bottom-transition\",\"persistent\":\"\"},model:{value:(_vm.editDialog),callback:function ($$v) {_vm.editDialog=$$v},expression:\"editDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Old \"+_vm._s(_vm.editedItem.FileType)+\" name:\"+_vm._s(_vm.editedOldName))]),_c('v-card-text',{attrs:{\"label\":\"New FileName\"}},[_vm._v(\" Maybe you would change it to： \"),_c('v-form',{model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.rules.mk_fileNameRules},model:{value:(_vm.editedItem.FileName),callback:function ($$v) {_vm.$set(_vm.editedItem, \"FileName\", $$v)},expression:\"editedItem.FileName\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Close \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":!_vm.valid},on:{\"click\":_vm.update}},[_vm._v(\" Save \")])],1)],1)],1)],1)]},proxy:true},{key:\"item.iconType\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.FileType == 'DIR')?_c('v-icon',{staticClass:\"mr-2\",on:{\"click\":function($event){return _vm.goToPath(item)}}},[_vm._v(\" mdi-folder-outline \")]):_c('v-icon',{staticClass:\"mr-2\",on:{\"click\":function($event){return _vm.openFile(item)}}},[_vm._v(\" mdi-file-outline \")])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")])]}},{key:\"no-data\",fn:function(){return [_c('p1',{staticStyle:{\"font-size\":\"25px\",\"color\":\"black\"}},[_vm._v(\"You haven't created any files yet. Click the new button to create them!\")]),_c('br'),_c('p1',[_vm._v(\"If your file is not loaded, you can try to load the file manually by clicking the button below\")]),_c('br'),(_vm.filePath == '')?_c('v-btn',{attrs:{\"text\":\"\",\"outlined\":\"\"},on:{\"click\":_vm.initialize}},[_vm._v(\" Get My Files\")]):_vm._e()]},proxy:true}],null,true)})],1)],1),_c('v-snackbar',{scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarData)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 此类用于管理一个团队的文件 -->\n  <v-container fluid>\n    <v-row>\n      <v-col cols=\"12\">\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"files\"\n          :search=\"search\"\n          class=\"elevation-8\"\n          style=\"background-color: rgba(255, 255, 255, 0.2)\"\n        >\n          <!-- 顶部栏 -->\n          <template v-slot:top>\n            <v-toolbar flat style=\"background-color: rgba(255, 255, 255, 0.2)\">\n              <v-toolbar-title>团队文件空间</v-toolbar-title>\n              <!-- 分隔符 -->\n              <v-divider class=\"mx-4\" inset vertical></v-divider>\n              <v-chip color=\"blue darken-4\" label outlined\n                >{{ teamName }}{{ filePath }}</v-chip\n              >\n              <!-- 分隔符 -->\n\n              <v-divider class=\"mx-4\" inset vertical></v-divider>\n              <!-- 上栏后退键 -->\n              <v-icon @click=\"pathBack\"> mdi-arrow-left </v-icon>\n              <v-divider class=\"mx-4\" inset vertical></v-divider>\n              <v-spacer></v-spacer>\n              <v-card-title>\n                <v-text-field\n                  v-model=\"search\"\n                  append-icon=\"mdi-magnify\"\n                  label=\"Search\"\n                  single-line\n                  hide-details\n                ></v-text-field>\n              </v-card-title>\n              <v-spacer></v-spacer>\n              <!-- 上栏新建按钮 -->\n              <v-icon x-large @click=\"addItem('FILE')\">\n                mdi-file-plus-outline\n              </v-icon>\n              <v-icon x-large @click=\"addItem('DIR')\">\n                mdi-folder-plus-outline\n              </v-icon>\n              <!--确认框，用以再次确认：删除，添加-->\n              <v-dialog\n                v-model=\"dialog\"\n                max-width=\"500px\"\n                transition=\"dialog-bottom-transition\"\n                persistent\n              >\n                <v-card>\n                  <v-card-title class=\"headline\"\n                    >Are you sure you want to {{ state }} this\n                    {{ editedItem.FileType }}?</v-card-title\n                  >\n                  <v-card-text>\n                    <v-form v-model=\"valid\"\n                      ><v-text-field\n                        v-if=\"state == 'add'\"\n                        v-model=\"editedItem.FileName\"\n                        :rules=\"rules.mk_fileNameRules\"\n                      ></v-text-field></v-form\n                  ></v-card-text>\n\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"blue darken-1\" text @click=\"closeDialog()\"\n                      >Cancel</v-btn\n                    >\n                    <v-btn\n                      v-if=\"state == 'delete'\"\n                      color=\"red darken-1\"\n                      text\n                      @click=\"deleteItemConfirm()\"\n                      :disabled=\"!valid\"\n                      >Delete</v-btn\n                    >\n                    <v-btn\n                      v-else-if=\"state == 'add'\"\n                      color=\"green darken-1\"\n                      text\n                      @click=\"addItemConfirm()\"\n                      :disabled=\"!valid\"\n                      >Add</v-btn\n                    >\n                    <v-spacer></v-spacer>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n              <!--确认框，用以再次确认：修改-->\n              <v-dialog\n                v-model=\"editDialog\"\n                max-width=\"500px\"\n                transition=\"dialog-bottom-transition\"\n                persistent\n              >\n                <v-card>\n                  <v-card-title class=\"headline\"\n                    >Old {{ editedItem.FileType }} name:{{\n                      editedOldName\n                    }}</v-card-title\n                  >\n                  <v-card-text label=\"New FileName\">\n                    Maybe you would change it to：\n                    <v-form v-model=\"valid\">\n                      <v-text-field\n                        v-model=\"editedItem.FileName\"\n                        :rules=\"rules.mk_fileNameRules\"\n                      ></v-text-field>\n                    </v-form>\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"red darken-1\" text @click=\"closeDialog\">\n                      Close\n                    </v-btn>\n                    <v-btn\n                      color=\"blue darken-1\"\n                      text\n                      @click=\"update\"\n                      :disabled=\"!valid\"\n                    >\n                      Save\n                    </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n            </v-toolbar>\n          </template>\n          <!-- 每个标识左侧用于标志类型的图标 -->\n          <template v-slot:[`item.iconType`]=\"{ item }\">\n            <v-icon\n              v-if=\"item.FileType == 'DIR'\"\n              class=\"mr-2\"\n              @click=\"goToPath(item)\"\n            >\n              mdi-folder-outline\n            </v-icon>\n            <v-icon v-else class=\"mr-2\" @click=\"openFile(item)\">\n              mdi-file-outline\n            </v-icon>\n          </template>\n          <!-- 每个item右侧用于重命名,删除和打开的按钮 -->\n          <template v-slot:[`item.actions`]=\"{ item }\">\n            <v-icon small class=\"mr-2\" @click=\"editItem(item)\">\n              mdi-pencil\n            </v-icon>\n            <v-icon small @click=\"deleteItem(item)\"> mdi-delete </v-icon>\n          </template>\n          <!-- 点击reset按钮重新获取数据 -->\n          <template v-slot:no-data>\n            <p1 style=\"font-size:25px; color:black\">You haven't created any files yet. Click the new button to create them!</p1><br>\n            <p1>If your file is not loaded, you can try to load the file manually by clicking the button below</p1><br>\n            <v-btn v-if=\"filePath == ''\" text outlined @click=\"initialize\">\n              Get My Files</v-btn\n            >\n          </template>\n        </v-data-table>\n      </v-col>\n    </v-row>\n    <!--错误提示，用于反馈创建、修改等等操作时的错误-->\n    <v-snackbar v-model=\"snackbar\">\n      {{ snackbarData }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn color=\"red\" text v-bind=\"attrs\" @click=\"snackbar = false\">\n          Close\n        </v-btn>\n      </template>\n    </v-snackbar>\n    <!-- 点击reset按钮重新获取数据 -->\n  </v-container>\n</template>\n\n<script>\nexport default {\n  name: \"tFileManage\",\n  data: () => ({\n    valid: true,\n    state: \"delete\",\n    //修改对话框\n    editDialog: false,\n    //增加、删除对话框\n    dialog: false,\n    //储存搜索内容\n    search: \"\",\n    // 用于控制消息条是否显示\n    snackbar: false,\n    // 表单填写的内容\n    snackbarData: \"\",\n    //记录当前调用的文件路径,储存左上文件结构名字\n    filePath: \"\",\n    //记录修改文件名时的OldName\n    editedOldName: \"\",\n    editedItem: {\n      FileName: \"\",\n      Creater: \"\",\n      RecentEditTime: \"\",\n      FileType: \"\",\n    },\n    defaultItem: {\n      FileName: \"\",\n      Creater: \"\",\n      RecentEditTime: \"\",\n      FileType: \"\",\n    },\n    headers: [\n      {\n        text: \"\",\n        align: \"start\",\n        value: \"iconType\",\n        sortable: false,\n        filterable: true,\n      },\n      {\n        text: \"FileName\",\n        align: \"start\",\n        sortable: true,\n        value: \"FileName\",\n      },\n      {\n        text: \"Creater\",\n        align: \"start\",\n        sortable: false,\n        value: \"Creater\",\n      },\n      {\n        text: \"RecentEditTime\",\n        sortable: true,\n        value: \"RecentEditTime\",\n      },\n      {\n        text: \"Actions\",\n        value: \"actions\",\n        sortable: false,\n      },\n    ],\n\n    files: [],\n\n    rules: {\n      mk_fileNameRules: [\n        (v) => !!v || \"filename is none!\",\n        (v) =>\n          (v.length >= 1 && v.length <= 20) ||\n          \"filename must be 1-20 characters!\",\n        (v) =>\n          /^((?!\\\\|\\/|:|\\*|\\?|<|>|\\||'|%|#|&|\\.|\\^).){1,20}$/.test(v) ||\n          \"Inlegal input\",\n      ],\n    },\n  }),\n\n  watch: {\n    dialog(val) {\n      val || this.closeDialog();\n    },\n  },\n\n  computed: {\n    userName() {\n      return this.$store.state.user.username;\n    },\n    teamName() {\n      return this.$route.query.teamName;\n    },\n  },\n\n  methods: {\n    //一，查询方法\n    initialize() {\n      // 获取全部文件,赋值\n      console.log(\"initialize\");\n      this.axios\n        .post(this.targetIP() + \"/fileManage.FileManage/getlist\", {\n          userName: this.teamName,\n          userType: \"TEAM\",\n          filePath: this.filePath,\n        })\n        .then((response) => {\n          console.log(response);\n          // 设置用户列表\n          const data = response.data;\n          this.files = data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    //二，删除方法\n    deleteItem(item) {\n      //打开删除确认框\n      this.state = \"delete\";\n      this.editedItem = Object.assign({}, item);\n      this.dialog = true;\n    },\n    deleteItemConfirm() {\n      //在删除窗口确认时调用，即在确定窗口点击confirm\n      this.axios\n        .post(this.targetIP() + \"/fileManage.FileManage/deleteDir\", {\n          userName: this.teamName,\n          fileName: this.editedItem.FileName,\n          fileType: this.editedItem.FileType,\n          userType: \"TEAM\",\n          filePath: this.filePath,\n        })\n        .then((response) => {\n          console.log(response);\n          this.initialize();\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n\n      this.closeDialog();\n    },\n\n    //三，增加方法\n    addItem(type) {\n      //打开确认框\n      this.state = \"add\";\n      this.editedItem.FileType = type;\n      this.dialog = true;\n    },\n    addItemConfirm() {\n      //创建用户调用\n      var FN = this.editedItem.FileName;\n      if (this.editedItem.FileType == \"FILE\") {\n        FN = FN + \".md\";\n        console.log(\"addfile\");\n      }\n      this.axios\n        .post(this.targetIP() + \"/fileManage.FileManage/createDir\", {\n          userName: this.teamName,\n          fileName: FN,\n          fileType: this.editedItem.FileType,\n          userType: \"TEAM\",\n          filePath: this.filePath,\n        })\n        .then((response) => {\n          console.log(response.data);\n          if (response.data == true) {\n            this.snackbarData = \"You have add an item!\";\n            this.snackbar = true;\n            this.Dialog = false;\n            this.initialize();\n          } else {\n            console.log(\"addMethod response.data:\" + response.data);\n            this.snackbarData = \"Name is repeated!\";\n            this.snackbar = true;\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      this.closeDialog();\n    },\n    //四，修改方法\n    editItem(item) {\n      this.editedItem = item;\n      this.editedOldName = this.editedItem.FileName;\n      this.editDialog = true;\n    },\n    update() {\n      //更改文件名\n      this.axios\n        .post(this.targetIP() + \"/fileManage.FileManage/renameDir\", {\n          userName: this.teamName,\n          fileName: this.editedOldName,\n          fileType: this.editedItem.FileType,\n          userType: \"TEAM\",\n          filePath: this.filePath,\n          newName: this.editedItem.FileName,\n        })\n        .then((response) => {\n          console.log(response);\n          if (response.data == true) {\n            this.initialize();\n            this.snackbarData = \"Edit Success!\";\n            this.snackbar = true;\n            this.editDialog = false;\n          } else {\n            console.log(\"edit,return response.data:\" + response.data);\n            this.snackbarData = \"Name is repeated\";\n            this.snackbar = true;\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n\n    //五，路径处理\n    pathBack() {\n      //文件夹路径回退函数\n      //字符串拆解，重新赋值\n      var s;\n      var ss = \"\";\n      s = this.filePath.split(\"/\");\n      ss = ss + s[0];\n      for (var i = 1; i < s.length - 1; i++) {\n        ss = ss + \"/\" + s[i];\n      }\n      this.filePath = ss;\n\n      this.initialize();\n    },\n    goToPath(item) {\n      //文件夹路径跳转函数\n      console.log(\"GOTO \" + item.FileName);\n      this.filePath = this.filePath + \"/\" + item.FileName;\n      this.initialize();\n    },\n    openFile(item) {\n      //文件查看函数\n      console.log(\"open\");\n      var tm=this.teamName;\n      this.axios\n        .post(this.targetIP() + \"/fileManage.FileManage/getcontent\", {\n          userName: this.teamName,\n          fileName: item.FileName,\n          fileType: \"FILE\",\n          userType: \"TEAM\",\n          filePath: this.filePath,\n        })\n        .then((response) => {\n          // 设置用户列表\n          const data = response.data;\n          console.log(data);\n         this.$store.commit(\n            \"setEditingFileInformation\",\n            {fileData:data,\n            fileName:item.FileName,\n            fileType:\"TEAM\",\n            filePath:this.filePath,\n            editor:tm,\n            }\n          );\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      this.open(\"Markdown\");\n    },\n    //六，通用方法\n    closeDialog() {\n      //关闭确定窗，即在确定窗口点击canel\n      this.dialog = false;\n      this.editDialog = false;\n      this.state = \"dothing\";\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n      });\n    },\n    open(name) {\n      // 需要先判断当前路由名称是否和目标路由一致，如果一致就不跳转\n      if (this.$route.name !== name) {\n        this.$router.push({\n          name: name,\n        });\n      }\n    },\n    targetIP() {\n      return this.$store.state.targetIP;\n    },\n  },\n\n  created() {\n    this.initialize();\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Teamfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Teamfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Teamfile.vue?vue&type=template&id=4a7582af&\"\nimport script from \"./Teamfile.vue?vue&type=script&lang=js&\"\nexport * from \"./Teamfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCol,VContainer,VDataTable,VDialog,VDivider,VForm,VIcon,VRow,VSnackbar,VSpacer,VTextField,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}