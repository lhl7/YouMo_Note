(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42b658f4"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"202d":function(t,e,i){},"2db4":function(t,e,i){"use strict";var n=i("ade3"),a=(i("a9e3"),i("caad"),i("ca71"),i("8dd9")),s=i("a9ad"),o=i("7560"),r=i("f2e7"),c=i("fe6c"),l=i("58df"),u=i("80d2"),h=i("d9bd");e["a"]=Object(l["a"])(a["a"],s["a"],r["a"],Object(c["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:function(t){return"string"===typeof t||!1===t}},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground:function(){return!this.text&&!this.outlined},isDark:function(){return this.hasBackground?!this.light:o["a"].options.computed.isDark.call(this)},styles:function(){if(this.absolute)return{};var t=this.$vuetify.application,e=t.bar,i=t.bottom,n=t.footer,a=t.insetFooter,s=t.left,o=t.right,r=t.top;return{paddingBottom:Object(u["g"])(i+n+a),paddingLeft:this.app?Object(u["g"])(s):void 0,paddingRight:this.app?Object(u["g"])(o):void 0,paddingTop:Object(u["g"])(e+r)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted:function(){this.isActive&&this.setTimeout()},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(h["e"])("auto-height",this),0==this.timeout&&Object(h["d"])('timeout="0"',"-1",this)},methods:{genActions:function(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(u["s"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent:function(){return this.$createElement("div",{staticClass:"v-snack__content",class:Object(n["a"])({},this.contentClass,!0),attrs:{role:"status","aria-live":"polite"}},[Object(u["s"])(this)])},genWrapper:function(){var t=this,e=this.hasBackground?this.setBackgroundColor:this.setTextColor,i=e(this.color,{staticClass:"v-snack__wrapper",class:a["a"].options.computed.classes.call(this),style:a["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:function(){return window.clearTimeout(t.activeTimeout)},pointerleave:this.setTimeout}});return this.$createElement("div",i,[this.genContent(),this.genActions()])},genTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout:function(){var t=this;window.clearTimeout(this.activeTimeout);var e=Number(this.timeout);this.isActive&&![0,-1].includes(e)&&(this.activeTimeout=window.setTimeout((function(){t.isActive=!1}),e))}},render:function(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"64e1":function(t,e,i){},"6d6d":function(t,e,i){"use strict";i("202d")},"6db1":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("div",[i("div",{staticClass:"bot"},[i("h2",[t._v("Editing File: "+t._s(t.fileName)),i("v-tooltip",[i("v-btn",{attrs:{icon:""},on:{click:function(e){return t.open("fileManage")}}},[t._v(" arrow-left-bottom-bold")])],1)],1)]),i("mavon-editor",{ref:"md",staticStyle:{"min-height":"560px","max-height":"570px"},attrs:{toolbars:t.markdownOption,shortCut:!1,id:"editor",xssOptions:t.xssOptions},on:{change:t.change,imgAdd:t.$imgAdd,save:t.save},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),i("v-snackbar",{attrs:{top:""},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[i("v-btn",t._b({attrs:{color:"red",text:""},on:{click:function(e){t.snackbar1=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar1,callback:function(e){t.snackbar1=e},expression:"snackbar1"}},[t._v(" "+t._s(t.snackbar1Data)+" You will jump to FilePage in "+t._s(t.count)+" second! ")]),i("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[i("v-btn",t._b({attrs:{color:"red",text:""},on:{click:function(e){t.snackbar2=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v(" "+t._s(t.snackbar2Data)+" ")])],1)])},a=[],s=(i("ac1f"),i("466d"),i("841c"),i("b0c0"),i("b2d8")),o=(i("64e1"),{name:"Markdown",components:{mavonEditor:s["mavonEditor"]},data:function(){return{lastValue:"",html:"",toolBg:"rgba(255,255,0)",preBg:"white",snackbar1:!1,snackbar1Data:"",snackbar2:!1,snackbar2Data:"",count:5,xssOptions:{whiteList:{img:["src","alt","width","height"]},stripIgnoreTagBody:!0},markdownOption:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,readmodel:!1,htmlcode:!0,help:!0,undo:!1,redo:!1,trash:!0,save:!0,navigation:!1,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},computed:{userName:function(){return this.$store.state.user.username},value:{get:function(){return this.$store.state.file.editingFile},set:function(t){this.$store.commit("setEditingFile",t)}},fileName:{get:function(){return this.$store.state.file.editingFileName},set:function(t){}},fileUserType:{get:function(){return this.$store.state.file.editingFileUserType},set:function(t){}},filePath:{get:function(){return this.$store.state.file.editingFilePath},set:function(t){}},fileEditor:{get:function(){return this.$store.state.file.editingFileEditor},set:function(t){}}},created:function(){this.lastValue=this.value},methods:{change:function(t,e){this.html=e},$imgAdd:function(t,e){var i=this,n="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type||"image/gif"===e.type,a=e.size/1024/1024<2;if(n||(this.snackbar2Data="Wrong FileType!",this.snackbar2=!0),a||(this.snackbar2Data="Please Upload a file under 2M!",this.snackbar2=!0),n&&a){console.log("checked picture");var s=new FormData;s.append("image",e),s.append("username",this.userName),this.axios({url:this.targetIP()+"/fileManage.ImageUp",method:"post",data:s,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data.msg),1==e.data.status?(i.snackbar2Data="picture uploaded success!",i.snackbar2=!0,i.$refs.md.$img2Url(t,e.data.imgUrl)):(i.snackbar2Data="picture uploaded wrong!",i.snackbar2=!0)}))}this.save()},save:function(){var t=this;console.log("save");var e=this.findDeleteImg();0!=e.length?(console.log(e),this.axios.post(this.targetIP()+"/fileManage.ImageUp/delete",{imageArr:e}).then((function(e){console.log(e.data),1==e.data?(t.snackbar2Data="picture refresh success!",t.snackbar2=!0):(t.snackbar2Data="picture refresh wrong!",t.snackbar2=!0)}))):console.log("no pic"),this.updateFile(),this.lastValue=this.value},findDeleteImg:function(){var t=/(?<=!\[.*\]\(http:\/\/[\w.\b]*\/FileImage\/)[\w\/.]*/g,e=this.lastValue.match(t);if(null!=e){for(var i=[],n=0;n<=e.length;n++)-1==this.value.search(e[n])&&i.push(e[n]);return i}return[]},updateFile:function(){var t=this;this.axios.post(this.targetIP()+"/fileManage.FileManage/updateContent",{userName:this.fileEditor,fileName:this.fileName,fileType:"FILE",userType:this.fileUserType,filePath:this.filePath,newContent:this.value}).then((function(e){console.log(e),0==e.data&&(t.snackbar1Data="You have to Create the file First!",t.snackbar1=!0,t.countdown()),1==e.data&&(t.snackbar2Data="Saved!",t.snackbar2=!0)})).catch((function(t){console.log(t)}))},targetIP:function(){return this.$store.state.targetIP},open:function(t){this.$route.name!==t&&this.$router.push({name:t})},countdown:function(){var t=this,e=3;this.timer||(this.count=e,this.show=!1,this.timer=setInterval((function(){t.count>0&&t.count<=e?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null,t.$router.push({name:"fileManage"}))}),1e3))}}}),r=o,c=(i("6d6d"),i("2877")),l=i("6544"),u=i.n(l),h=i("8336"),d=i("a523"),f=i("2db4"),p=i("ade3"),v=(i("a9e3"),i("9734"),i("4ad4")),g=i("a9ad"),m=i("16b7"),b=i("b848"),k=i("f573"),w=i("f2e7"),y=i("80d2"),x=i("d9bd"),T=i("58df"),_=Object(T["a"])(g["a"],m["a"],b["a"],k["a"],w["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,i=t.content,n=!this.bottom&&!this.left&&!this.top&&!this.right,a=!1!==this.attach?e.offsetLeft:e.left,s=0;return this.top||this.bottom||n?s=a+e.width/2-i.width/2:(this.left||this.right)&&(s=a+(this.right?e.width:-i.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(s,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,i=t.content,n=!1!==this.attach?e.offsetTop:e.top,a=0;return this.top||this.bottom?a=n+(this.bottom?e.height:-i.height)+(this.bottom?10:-10):(this.left||this.right)&&(a=n+e.height/2-i.height/2),this.nudgeTop&&(a-=parseInt(this.nudgeTop)),this.nudgeBottom&&(a+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(a+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(y["g"])(this.maxWidth),minWidth:Object(y["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(y["t"])(this,"activator",!0)&&Object(x["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=v["a"].options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===y["x"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(p["a"])(t,this.contentClass,!0),Object(p["a"])(t,"menuable__content__active",this.isActive),Object(p["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}}),O=Object(c["a"])(r,n,a,!1,null,null,null);e["default"]=O.exports;u()(O,{VBtn:h["a"],VContainer:d["a"],VSnackbar:f["a"],VTooltip:_})},"841c":function(t,e,i){"use strict";var n=i("d784"),a=i("825a"),s=i("1d80"),o=i("129f"),r=i("577e"),c=i("dc4a"),l=i("14c3");n("search",(function(t,e,i){return[function(e){var i=s(this),n=void 0==e?void 0:c(e,t);return n?n.call(e,i):new RegExp(e)[t](r(i))},function(t){var n=a(this),s=r(t),c=i(e,n,s);if(c.done)return c.value;var u=n.lastIndex;o(u,0)||(n.lastIndex=0);var h=l(n,s);return o(n.lastIndex,u)||(n.lastIndex=u),null===h?-1:h.index}]}))},9734:function(t,e,i){},ca71:function(t,e,i){}}]);
//# sourceMappingURL=chunk-42b658f4.3ccd5746.js.map